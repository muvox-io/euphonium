
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation (Wiki) for Euphonium">
      
      
      
        <link rel="canonical" href="https://euphonium.github.io/docs/technical/dev-environment/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Setting up development environment - Euphonium</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="euphonium" data-md-color-primary="" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Euphonium" class="md-header__button md-logo" aria-label="Euphonium" data-md-component="logo">
      
  <img src="../../images/euph.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Euphonium
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setting up development environment
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="euphonium" data-md-color-primary="" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/feelfreelinux/euphonium" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    feelfreelinux/euphonium
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Euphonium" class="md-nav__button md-logo" aria-label="Euphonium" data-md-component="logo">
      
  <img src="../../images/euph.svg" alt="logo">

    </a>
    Euphonium
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/feelfreelinux/euphonium" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    feelfreelinux/euphonium
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Euphonium documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../status/" class="md-nav__link">
        Status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_5" type="checkbox" id="__nav_1_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_5">
          Technical documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Technical documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_5">
          <span class="md-nav__icon md-icon"></span>
          Technical documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Setting up development environment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Setting up development environment
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#checkout-code" class="md-nav__link">
    Checkout code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-web-ui-bundler" class="md-nav__link">
    Setting up web UI bundler
  </a>
  
    <nav class="md-nav" aria-label="Setting up web UI bundler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    nodejs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npm" class="md-nav__link">
    npm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn" class="md-nav__link">
    yarn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-dependencies-for-target-platform" class="md-nav__link">
    Setting up dependencies for target platform
  </a>
  
    <nav class="md-nav" aria-label="Setting up dependencies for target platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#desktop-specific-dependencies" class="md-nav__link">
    Desktop specific dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-and-installing-the-project-desktop" class="md-nav__link">
    Building and installing the project - Desktop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-and-installing-the-project-esp32" class="md-nav__link">
    Building and installing the project - ESP32
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-improvements" class="md-nav__link">
    Development improvements
  </a>
  
    <nav class="md-nav" aria-label="Development improvements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preconfiguration-of-wifi-and-dac" class="md-nav__link">
    Preconfiguration of WIFI and DAC
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-new-dac/" class="md-nav__link">
        Adding support to new DAC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-new-plugin/" class="md-nav__link">
        Writing your own plugin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_6" type="checkbox" id="__nav_1_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_6">
          API Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_6">
          <span class="md-nav__icon md-icon"></span>
          API Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/scripting-language/" class="md-nav__link">
        Scripting Language
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_6_2" type="checkbox" id="__nav_1_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_6_2">
          HTTP API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="HTTP API" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_6_2">
          <span class="md-nav__icon md-icon"></span>
          HTTP API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../http/" class="md-nav__link">
        Euphonium REST API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../http/main/" class="md-nav__link">
        Core
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../http/devtools/" class="md-nav__link">
        Plugin - DevTools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../http/webradio/" class="md-nav__link">
        Plugin - WebRadio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../http/ota/" class="md-nav__link">
        Plugin - OTA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/cpp.md" class="md-nav__link">
        C++ Documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#checkout-code" class="md-nav__link">
    Checkout code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-web-ui-bundler" class="md-nav__link">
    Setting up web UI bundler
  </a>
  
    <nav class="md-nav" aria-label="Setting up web UI bundler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    nodejs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npm" class="md-nav__link">
    npm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn" class="md-nav__link">
    yarn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-dependencies-for-target-platform" class="md-nav__link">
    Setting up dependencies for target platform
  </a>
  
    <nav class="md-nav" aria-label="Setting up dependencies for target platform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#desktop-specific-dependencies" class="md-nav__link">
    Desktop specific dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-and-installing-the-project-desktop" class="md-nav__link">
    Building and installing the project - Desktop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-and-installing-the-project-esp32" class="md-nav__link">
    Building and installing the project - ESP32
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-improvements" class="md-nav__link">
    Development improvements
  </a>
  
    <nav class="md-nav" aria-label="Development improvements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preconfiguration-of-wifi-and-dac" class="md-nav__link">
    Preconfiguration of WIFI and DAC
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/feelfreelinux/docs/blob/master/docs/technical/dev-environment.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">~</a></h1>
<p>The best way to try euphonium is to flash a prebuilt version. However, if you want to build it yourself, or help out with development, you will need a few dependencies to get this project to build.</p>
<h2 id="checkout-code">Checkout code<a class="headerlink" href="#checkout-code" title="Permanent link">~</a></h2>
<p>When checking out the repository, use <code>--recursive</code> to retrieve all submodules. Alternately, after checkout use <code>git submodule update --init --recursive</code> to perform the same task.</p>
<div class="highlight"><pre><span></span><code>git clone --recursive https://github.com/feelfreelinux/euphonium
</code></pre></div>
<h2 id="setting-up-web-ui-bundler">Setting up web UI bundler<a class="headerlink" href="#setting-up-web-ui-bundler" title="Permanent link">~</a></h2>
<p>First, a required step is to setup all of the dependencies required to build the web UI.</p>
<h3 id="python">python<a class="headerlink" href="#python" title="Permanent link">~</a></h3>
<p>Python needs to be installed on your system.
Ensure that you have <code>pip</code> installed. This can be done by</p>
<div class="highlight"><pre><span></span><code>python -m ensurepip --upgrade
</code></pre></div>
<p>Then we can install the needed dependencies by using the <code>requirements.txt</code> file. Execute this command to install the needed dependencies (from the root of the project):</p>
<div class="highlight"><pre><span></span><code>pip install -r requirements.txt
</code></pre></div>
<h3 id="nodejs">nodejs<a class="headerlink" href="#nodejs" title="Permanent link">~</a></h3>
<p>you need at least version 14. Precompiled distrobution packages with installation instructions can be found here: https://github.com/nodesource/distributions</p>
<h3 id="npm">npm<a class="headerlink" href="#npm" title="Permanent link">~</a></h3>
<p>Npm should be included in the nodesource package. Otherwise the installation is platform specific, but mostly just comes down to installing it through a package manager.</p>
<h3 id="yarn">yarn<a class="headerlink" href="#yarn" title="Permanent link">~</a></h3>
<p>be careful: don't install yarn from default package repository on Debian or Ubuntu. It would install the package <code>cmdtest</code> for you. To be sure you may run <code>sudo apt remove cmdtest</code> first.</p>
<p>The right package can be installed with:
<div class="highlight"><pre><span></span><code>corepack enable
yarn set version stablerm -rf bu        
</code></pre></div></p>
<h2 id="setting-up-dependencies-for-target-platform">Setting up dependencies for target platform<a class="headerlink" href="#setting-up-dependencies-for-target-platform" title="Permanent link">~</a></h2>
<p>Depending on the target platform, (esp32 or cli) the dependencies are differnt.</p>
<h3 id="desktop-specific-dependencies">Desktop specific dependencies<a class="headerlink" href="#desktop-specific-dependencies" title="Permanent link">~</a></h3>
<ul>
<li>PortAudio library</li>
<li>OpenSSL library</li>
</ul>
<p>both can be installed with a package manager.</p>
<p>If you are on macOS then we can do this with <code>brew</code>:
<div class="highlight"><pre><span></span><code>brew install OpenSSL PortAudio
</code></pre></div></p>
<p>If you are on Ubuntu/Debian you can install with:
<div class="highlight"><pre><span></span><code>sudo apt install libmbedtls-dev protobuf-compiler openssl libasound-dev portaudio19-dev libportaudio2 libportaudiocpp0
</code></pre></div></p>
<h4 id="needed-libs-on-linux">Needed libs on Linux<a class="headerlink" href="#needed-libs-on-linux" title="Permanent link">~</a></h4>
<p>When building on linux you will also need the follwoing dependency: <code>libavahi-compat-libdnssd-dev</code>.
This can be installed by
<div class="highlight"><pre><span></span><code>sudo apt-get install libavahi-compat-libdnssd-dev
</code></pre></div></p>
<h4 id="esp32-specific-dependencies">ESP32-Specific dependencies<a class="headerlink" href="#esp32-specific-dependencies" title="Permanent link">~</a></h4>
<ul>
<li><code>esp-idf</code> in version <code>4.4.1</code>. Please follow <a href="https://docs.espressif.com/projects/esp-idf/en/v4.4.1/esp32/get-started/index.html#get-started-get-prerequisites">Espressif's guide</a>.</li>
</ul>
<p>As an alternative you can install VSCode (https://code.visualstudio.com/) and open the euphonium folder.
VSCode should recommend the following extensions to you:
- "espressif.esp-idf-extension"
- "platformio.platformio-ide" (optional)
- "berry.berry" (optional)</p>
<p>In this case the installation of ESP-IDF is managed by vscode.<br />
If the extensions are installed you can open the ESP-IDF terminal (<code>STRG + E</code> followed by <code>T</code>) and continue building as described below.</p>
<h4 id="hint-for-linux-mint">Hint for Linux Mint<a class="headerlink" href="#hint-for-linux-mint" title="Permanent link">~</a></h4>
<p>In order for the CLI build to work on Linux Mint I had to add a little extra CLI arg to the <code>cmake</code> command, as it doesn't know how to find the correct library it would seem.
Maybe this could be added directly into the <code>cmake</code> setup?</p>
<p>To fully compile the <code>cli</code> on Linux Mint execute the following
<div class="highlight"><pre><span></span><code>cmake -DCMAKE_CXX_STANDARD_LIBRARIES=&quot;-ldl&quot; ..
make
</code></pre></div></p>
<h3 id="building-and-installing-the-project-desktop">Building and installing the project - Desktop<a class="headerlink" href="#building-and-installing-the-project-desktop" title="Permanent link">~</a></h3>
<p>For a desktop run, please run the following commands</p>
<div class="admonition note">
<p class="admonition-title">Setup</p>
<div class="highlight"><pre><span></span><code>cd targets/cli
mkdir build &amp;&amp; cd build
cmake ..
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Build</p>
<div class="highlight"><pre><span></span><code>make
</code></pre></div>
</div>
<p>This will output a binary <code>euphoniumcli</code> which can be later executed to run the platform. The web-ui will be available on port <code>80</code> by default.
If you have trouble using port 80 (on Linux for example), use <code>cmake .. -D HTTP_SERVER_PORT=8080</code> to change the web-ui port.</p>
<h3 id="building-and-installing-the-project-esp32">Building and installing the project - ESP32<a class="headerlink" href="#building-and-installing-the-project-esp32" title="Permanent link">~</a></h3>
<p>For ESP32 target, please run following commands (with esp-idf in the PATH)</p>
<div class="admonition note">
<p class="admonition-title">Setup</p>
<div class="highlight"><pre><span></span><code>cd targets/esp32
sh build_recovery.sh
sh build_app.sh
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Build</p>
<p>For full flash:
<div class="highlight"><pre><span></span><code>sh flash_all.sh {serialport}
</code></pre></div>
For app-only flash:
<div class="highlight"><pre><span></span><code>sh reflash_app.sh {serialport}
</code></pre></div>
For spiffs only flash (berry scripts, webui, configuration):
<div class="highlight"><pre><span></span><code>sh reflash_spiffs.sh {serialport}
</code></pre></div></p>
</div>
<h2 id="development-improvements">Development improvements<a class="headerlink" href="#development-improvements" title="Permanent link">~</a></h2>
<p>There are a few tricks to make the development faster</p>
<h3 id="preconfiguration-of-wifi-and-dac">Preconfiguration of WIFI and DAC<a class="headerlink" href="#preconfiguration-of-wifi-and-dac" title="Permanent link">~</a></h3>
<p>Every flash of the spiffs partition will reset the internal configuration. It's a bit of a pain when dealing with esp32, as you have to deal with reconfiguration of the system through the AP network with every flash. To avoid this, you can preconfigure the WiFi settings (any any other setting!) to be included in the flashed partition.</p>
<p>To configure WiFi, create a file inside of <code>euphonium/scripts/configuration</code> folder, named <code>wifi.config.json</code>, containing following data</p>
<div class="highlight"><pre><span></span><code>{
    &quot;ssid&quot;: &quot;YOUR NETWORK SSID&quot;,
    &quot;password&quot;: &quot; YOUR NETWORK PASSWORD&quot;
}
</code></pre></div>
<p>After rerunning the <code>reflash_spiffs</code> script WiFi is going to be preconfigured :)</p>




              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../architecture/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Architecture" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Architecture
            </div>
          </div>
        </a>
      
      
        
        <a href="../adding-new-dac/" class="md-footer__link md-footer__link--next" aria-label="Next: Adding support to new DAC" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Adding support to new DAC
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.top", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>